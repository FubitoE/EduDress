{% load static %}

<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ランダム問題</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
    <div class="container">
        <!-- 問題部分 -->
        <h1 class="question-title">問題: {{ question.questions_number }}</h1>

        <!-- 上部画像 -->
        {% if question.images.exists %}
            <div class="question-image-top">
                {% for image in question.images.all %}
                    {% if image.question_imgA %}
                        <img src="{{ image.question_imgA.url }}" alt="問題画像 (上部)">
                    {% endif %}
                {% endfor %}
            </div>
        {% endif %}

        <!-- 問題文 -->
        <div class="question-text">
            <p>{{ question.questions_text|linebreaks }}</p>
        </div>

        <!-- 選択肢部分 -->
        <form id="quiz-form" method="POST">
            {% csrf_token %}
            <div class="choices">
                <label>
                    <input type="radio" name="choice" value="a">
                    <span>ア: {{ question.choice_a_text }}</span>
                </label>
                {% if question.choice_a_image %}
                    <img src="{{ question.choice_a_image.url }}" alt="選択肢A画像">
                {% endif %}
                <br>
                <label>
                    <input type="radio" name="choice" value="b">
                    <span>イ: {{ question.choice_b_text }}</span>
                </label>
                {% if question.choice_b_image %}
                    <img src="{{ question.choice_b_image.url }}" alt="選択肢B画像">
                {% endif %}
                <br>
                <label>
                    <input type="radio" name="choice" value="c">
                    <span>ウ: {{ question.choice_c_text }}</span>
                </label>
                {% if question.choice_c_image %}
                    <img src="{{ question.choice_c_image.url }}" alt="選択肢C画像">
                {% endif %}
                <br>
                <label>
                    <input type="radio" name="choice" value="d">
                    <span>エ: {{ question.choice_d_text }}</span>
                </label>
                {% if question.choice_d_image %}
                    <img src="{{ question.choice_d_image.url }}" alt="選択肢D画像">
                {% endif %}
            </div>
            <button type="submit">回答する</button>
        </form>

        <!-- 結果表示 -->
        <div id="result" style="display: none;">
            <p id="result-message"></p>
            <h3>解説:</h3>
            <p>{{ question.explanation|linebreaks }}</p>
        </div>
    </div>

    <script src="{% static 'js/study.js' %}"></script>
</body>
</html>
